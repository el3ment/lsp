@import "../utilities/settings";
@import "../utilities/functions";

/* Header */
$headerBackgroundColor : #17100a;

.header {
	/* Layout */
	margin:0 auto px(15px);
	position: relative;
	width: 100%;
	float: none; // This is to fix a positioning bug in firefox
	// Removing for the time being -- dark-pattern was the previous background image
	// background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGBAMAAACDAP+3AAAAD1BMVEUAAABkZGSFhYXR0dFsbGyO8oaiAAAABXRSTlMABQIGDKndyUAAAAUMSURBVEjHJI6BrdtQDAOPkgegbA+gZ3eA5yQDOPndf6amLSBBgEAcDyuuh9fInGYYG+KHsKUVTRtSnUtKcF3CiElmM2X6Z+R5G1lKFnl6dGzmXKU6mX5jw12i/LzrvHipenqBnKfq5vnWsfQdVwccUuicwVdqY4p2G7ALDrDZQUITfNixSy2g//WuaeYkR41p4bZxlDyrVn/WXycCmwl6TlE3hJZBGJnJBo8fKC4FEGYzDwdKqQw13EpD58IYUMEadfm92ZKXxR8kqC7Fsb/fRrrBEv4clCYCh58CohkawKW7QlLcXy6rwfGWhvoNcZZFdRJXLRSg0l3urWrUvv6eApzknK8F1ofa927V8sDS++ByVlJlEufPpxkAojYdxZ7XAQ+DfSZf8PNm4/AEBMLOzZeNmxzxYa5bm1Ruo74uqX1hLVLSdCSpCz411KxabCMnBLy4XNxQXk/GIcfZHM2KPO+Mb6DXTfRNob9Bju/gm4+s9SauRlSjfZOeiydzaPtZfHcza/n1AoG18/D5ghRJvh9EQD+zUOF7+i8aR5e6EKyl0DtdGwYSzWPkbS9M3JI3wq7nWCeKeF1IQ0rji8k/Li94rEKL2AxcutZly3GKnR9kAQDhQhgvlvaNpRPZnK7Tt4wMqL32oJFdbl+/akJXZ7AM6FMIc3ueCdPftw0xyy5hGPyzP+Mz0w4kZiPad5cJXQDLe+7cJnv7zU2kMTniu4xvm1GuYB3b5ElZFduPX9v3RiuRYyUeRYvXSuUDBvnXRJLe1Uv2tJnS9tlLYVE7kHYeM2qf55zHuybs9DPQP/GpL9BEyItSLf068cJYq61mJWvJk8Od86NmWv+tDRaCCPxl/CmZDG8dh2EY/FHuAFTSAeS2A9jJGyDtu/1nuvrujw0IJEER1K/JeDevYmXI4nWZPXTsj1uMPs/tfs/Us+Ytmsa9mysEuJgfhJtf2zulnD+2tyvzRy3gU2RshjFcYwBS20xqP6Nw/JYwrxYNluKh09yzf7jF1nJmmWzcGhMe/AfxZ+y4+3CpXDHVAYuzrcR7NWwuJ+vQ9BWscQ1Vu4AeqSUS78MjgjDpVkQrW0E1ce593uAVMMi8Ot8xI8nempZ4kA6PJdRg3+PcuPJSnXpqLlwgWNrXfk/YA9thlJ5CJAO51nbPrvcuRwXsWQPl05jivRYd2MHv9LPs2iNLPMQInr6+DVUc/mcjVCsmORenGFqlkpeW1tO2SkKAdKvE7nB5/jv5Rz0WicFpVPKIZfNS95Z+du96qYXe8CjVl1eX99HKe5R1xBc7UqtqrwlDYzhc32kzun2IcCxz6VwntPwINv4wyRg/5yvigFgzbuI6sy6OYl/95qeFW9Ml/wvdfEUkvRhgoqLvbji/9OXWW6rOMPvm2USTohnGSmh0gfpOdPZWsVhVDIqkldr1GTzaNocsLewr51rIID3n1naypi3JsPPIHBsY+K31DVK8sQt0r4firiJyuSY4qbSNRrCQfPqO2pIb9X6cv/ADhXyD+bM/VSuV7XjwkxmZlpwMgzeubzYahfqXtjrwyovW7+Z5Muda1dm8OtmFFhdLm+SJZvVlSxZozNOMAv85klD0gfqmNvPDyL1kilcEYzT7GBKsZ41RI8OP/olK7Jta2avi7XDCRL3yidnKRc7jizcxQ7r5Pfpq0P0c9RyMIe/1sbuCPW2aqZGXUJomDoROvU81UAyP8m/6wZjg/WGR+guDe55xpDvu6AAAAABJRU5ErkJggg==");
	background-attachment: fixed;
	background-color: $headerBackgroundColor;
	
	@include clearfix;
	
	.b3{ 
		/* Other darker buttons like Wish List and Your Cart */
		/* These are the color-specific declarations, the main styling is in form.scss under highlight-icon property */
		
		text-shadow: -1px -1px #000000;
		color: #fff;
		border-color: $darkBrownBorder;
		
		@include box-shadow-multiple(0 1px 0px #7b6d62 inset, 
									 0 2px 3px #000); /* Top Highlight, Drop shadow */  
		
		&:hover{
			@include gradient(#574c41, $darkBrown); /* Hover light brown */
		}
		
		&:before{
			background-color: #3F362F;
			background-color: transparent\9; /* Remove the background for IE8 */
			@include box-shadow-multiple(0 -1px 0 #52483d inset, 0 -1px 0 rgba(255, 255, 255, .2) inset, 0 1px 0 #312a24 inset);
		}

		&, &:active{ @include gradient($brown, $darkBrown); }
	}

	// If it's an error, it means they are not logged in so hide the "Hi Robert!" link 
	li[data-firstname*="Error processing dynamic tag"],
	li[data-firstname] + li{
		display: none !important;
	}

	// If it's an error, show the "Login" link
	li[data-firstname*="Error processing dynamic tag"] + li{
		display: block !important;
	}

	// Contains the logo, the tagline, and the phone number
	.well{

		$_taglineMarginTop : 15px; // The space between the utility bar and the tagline and the phone number

		position: relative;
		margin-top:-23px;
		height: 75px;
		overflow: visible;
		clear: both;
		float: none;
		margin: auto;
		color: #ffffff;
		text-transform: uppercase;
		
		//font-size: 110%;
		
		.logo {
			float: left;
			margin-top:-27px;
			@media (max-width: 767px){
				margin-top: 0;
			}
		}
		
		.established{
			
			float: left;
			margin: px($_taglineMarginTop) px(10px) px(10px); /* Should be same as margin-top on .tagline */
		}
		
		.tagline{
			float: right;
			margin: px($_taglineMarginTop) px(10px) px(10px);
			font-size: 16px;
			font-weight: bold;
			-webkit-font-smoothing: antialiased;

			@media (min-height: 676px){
				font-weight: bold;
			}

			a {  
				color: inherit; 
				text-decoration: none; 
				&:hover{ color: $yellow; }
			}
		}

		// If big enough
		@media (min-width: 768px) and (min-height: 676px){
			
			height: 136px;

			.logo{
				width: 140px;
				height: 140px;
				background-position: 0px 0px;	
			}

			.established, .tagline{
				margin-top: 60px;
			}
		}

		@media (max-width: 767px){
			width: 100px;
			height: 65px;
			float: left;
		}
		
	}
	
	// Somtimes called the Utility Bar, it's the links at the very top of the page
	.navbar {
		
		/* The list of actions at the top of the page */
		
		float: right;
		width: 100%;
		background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAABAQMAAADO7O3JAAAAA1BMVEUAAACnej3aAAAAAXRSTlNC2DT42gAAAApJREFUCNdjYAAAAAIAAeIhvDMAAAAASUVORK5CYII="); // 2x1 transparent black
		
		.utilityLinks{
			float: none;
			margin: auto;
		}
		
		> ul > li {    
			display: inline-block;
			margin: 0;
			float:right;
			position: relative;
		}

		// Down arrow for navbar items with sublists
		li[data-reveal-children]{ 

			.b5{
				padding-right: 30px;
			}

			&:after{
				// Brown down arrow
				border-color: #625b55 transparent transparent transparent;
				border-style:solid;
				border-width: px(5px);
				width:0;
				height:0;
				content: '';
				position: absolute;
				top: px(17px);
				right: px(11px);
			}

			&:hover:after{
				border-top-color: white;
			}
		}

		.sublist{
			position: absolute;
			top: 38px;
			left: 0;
			border-top:1px solid #3a332c;
			border-right:1px solid black\9;
			border-bottom:1px solid black\9;
			border-left:1px solid black\9;
			z-index: 1;
			min-width: 250px;

			// A spacer to keep the menu open while mousing between the
			// utility bar and the manu. This technique is also used for
			// the definitions
			&:after{
				content: ' ';
				display: block;
				width: 100%;
				height: 40px;
				position: absolute;
				top: -20px;
				background-color: transparent;
				z-index: -1;
			}

			li{
				
				$backgroundShadow : 0 2px 3px black;
				
				background-color: #221e1a;
				border: 1px solid transparent;
				border-width: 1px 0;
				font-size: 12px;
				font-weight: bold;
				line-height: 20px;

				@include box-shadow-multiple($backgroundShadow);

				&:hover{
					background-color: #312c29;
					@include box-shadow-multiple(0px -1px 0px 0px #19130e, $backgroundShadow);
					border-top-color: #3a332c;
				}

				&:hover + li{
					@include box-shadow-multiple(0px -1px 0px 0px #19130e, $backgroundShadow);
					border-top-color: #322c26;
				}

				&:first-child:hover{
					border-top-color: transparent; // We already have the little highlight on the list itself
					@include box-shadow-multiple(none);
				}

				&.last{
					@include border-radius(0 0 5px 5px);
				}
				
				a{
					color : white;
					padding: 5px 10px;
					color: white;
					text-transform: uppercase;
					text-decoration: none;
					display: block;
					text-align: left;
				}

				.details{
					display: block;
					font-weight: normal;
					text-transform: none;

				}
			}
		}

		.b5{
			text-transform: uppercase;
			text-decoration: none;
			margin: 0;
			color: #fff;
			font-weight: bold;
			display: block;
			font-size: px(12px);
			
			/* How far apart items are from one another, don't forget space for the icon */
			padding: px(10px, 12px) px(15px, 12px) px(10px, 12px) px(45px, 12px); 
			@media (max-width: 979px) and (min-width: 768px){
				padding-left: px(15px);
			}
			
			&:after{
				left: px(10px);
				@media (max-width: 979px) and (min-width: 768px){
					margin:0;
					display: none;
				}
			}
		}

		li:hover .b5, li.reveal-isOpen .b5{
			background-color: #322c28;
		}
	}  
	
	.shopbar {
		
		/* Includes the Shop by Department, Search bar, and other darker buttons */
		
		clear:both;
		float: none;
		margin: -15px auto auto;
		height: px(60px); /* We have to give it a height because the inner li's are float:left */
		line-height: px(41px);
		
		@media (max-width: 767px){
			margin:0;
		}
		
		li {
			position: relative;
			margin-left: px(2 * $paddingUnit);
		}
		
		.b2, .b3, .b4{
			padding-top: px(8px, 13px);
			padding-bottom: px(8px, 13px);            
		}
		
		.b1{
			
			width: px(166px, $b1FontSize); /* Shop By Department */
			margin-left: 0;
			padding-left: 40px;
			padding-top: px(8px, 14px);
			padding-bottom: px(6px, 14px);
			
			&:after{
				left: 8px;
			}
			
			strong:after{ /* We need .b1:after for the icon, so we'll use .b1 strong:after for the little down arrow */
				border-color: black transparent transparent transparent;
				border-style:solid;
				border-width: px(5px);
				width:0;
				height:0;
				content: '';
				position: absolute;
				top: px(23px);
				right: px(10px);
			}
			
		}

		.wishlist{
			
			float: right;
			
			.b3{
				width: px(100px);
			}
		}

		.departments{
			float: left;
			margin-left: 0;  
			margin-right: px($paddingUnit); 
		}

		.cart{
			
			float: right;
		}

		.b3{
			width: px(140px);
			padding-right: px(35px); /* Only if we are going to use the count */
			margin-left: 0; /* Generally we want the margin, so it's on the generic definition, but here we don't */
			margin-right: 0;
	
			.count{
				background-color: $yellow;
				color: black;
				padding: px(3px);
				position: absolute;
				font-weight: bold;
				padding: px(3px) px(7px);
				right: px(18px);
				top: px(13px);
				@include border-radius(px(3px));
				text-shadow: 0 1px $saturatedHighlightYellow; /* Intentionally 1px, not in EMs */
		
				// NOT PERMANANT!
				// Hide the down arrow for right now until we write the dropdown code
				// &:after{ /* We need .b3:after for the icon, so we'll use .b3 count:after for the little down arrow */
				//   border-color: white transparent transparent transparent;
				//   border-style:solid;
				//   border-width: px(5px);
				//   width:0;
				//   height:0;
				//   content: '';
				//   position: absolute;
				//   top: px(9px);
				//   right: px(-18px);
				// }
				@include box-shadow-multiple(0px 1px 1px 1px #25211c, 0 1px 1px 0px #fdf8a6 inset); /* Intentionally 1px */
				@include gradient($lightYellow, $yellow);
			}
		}

		input.search { /* Main Search bar */
			
			width: 100%;
			display: inline-block;
			margin-right: 0;
			font-size: px($largeInputFontSize);
			padding : px($paddingUnit * 2+4, $largeInputFontSize) px($inputPadding+2, $largeInputFontSize);
			line-height: 24px;
			top: 0;
		}

		.search{
			overflow: hidden;
			float: none;
			margin-left: 0;
			
			.clearContents{ // Clearcontents button
				right: 57px;
			}
			
			.b2 { /* Magnifying glass button */
				width: px(44px);
				height: px(44px);
				position: absolute;
				right: px(4px);
				top: px(4px);
				margin: 0;
				text-indent: -$hideDistance;
				padding: 0; /* Icon only */
				overflow: hidden;
				line-height:44px;
				&:after{ /* Icon! */
					left: 50%;
					margin-left: px(-12px);
					top: 8px\9;
				}
			}
		}
		
		#searchBarContainer{
			position: relative;
			height: 51px;
			padding: 0 0 10px 0;

			@media (max-width: 767px){
				padding: 0 10px 10px 10px;
			}
		}
	}
	
	.breadcrumbs{
	  
		/* The list of breadcrumbs below the shopbar */
		
		background-color: $superLightGrey;
		padding: px($paddingUnit) 0;
		width: 100%;
		float: left;
		font-size: 12px;
		
		@media (max-width: 767px){
			display: none !important;
			
			border: 10px solid transparent;
			border-width: 0 10px;
			@include box-sizing();
	
		}
		
		.breadcrumbLinks{
			
			float: none;
			margin: auto;
			position: relative; // Give the little box an origin

			// This is a little square that hides the final > from the breadcrumbs.
			// Why NetSuite does it this way is beyond me.
			&:after{
				display: inline-block;
				background-color: $superLightGrey;
				content: ' ';
				position: relative;
				height: 10px;
				width: 10px;
				left: -13px;
			}
			
			a{ 
			  
				/* Each item contains an A tag which contains the text of the category */
				
				//float: left;
				display:inline-block;

				// &:before{
				// 	content: 'â†’';
				// 	padding:0 px(5px);
				// }
				// &:first-child:before{
				// 	content: ' ';
				// }
				
				// &.active a, &.active .b5{
				// 	text-decoration: none; 
				// 	color: $black;
				// 	font-weight: bold;
				// 	float: left;
				// 	position: relative;
				// 	top: 2px;
				// 
			}
			button:last-child{
				text-decoration: none;
				cursor: default;
				color: black;
				//font-weight: bold;
				//we can't make it bold right now, netsuite's
				//native breadcrumb html is awful and we can't do it everywhere
			}
		}
		
		
	}
	@media (min-width: 768px){
		.search{
			display:block !important; /* the rare case that a user hides search, and flips their tablet */
		}
	}
	@media (max-width: 767px){
		.established, &.large .tagline, ul li.wishlist{
			display: none !important; // important overrides login/logout detection
		}
		.image-logoCircle{
			width: 120px;
			height: 64px;
			float: left;
			background-position: -190px -158px;
		}
		
		.navbar{
			display: none;
		}
		.shopbar{
			
			padding: 0;
			width: 202px;
			float: right;
			clear: none;
			
			li.search{

				position:absolute;
				top: 64px;
				left: 0;
				// background: url(/img/dark_pattern.jpg);
				background-color: $headerBackgroundColor;
				
				width: 100%;
				z-index: 9999;
				@include box-shadow-multiple(0 2px 3px -1px $grey); /* Top Highlight, Drop shadow */  
											 
				
				
				@include box-sizing();
				.b2{
					top:4px;
					right:14px;
				}
			}
			.departments{
				margin-right: 70px;
			}
			.mobileSearch{
				margin-right:140px;
			}
			.departments{
				float:right;
			}
			
			.cart .icon-24-cart-white{
				background-position: -255px -103px;
			}
			.departments .icon-24-star-black{
				background-position: -333px -103px
			}
			.mobileSearch .b3{
				background-position: -189px -103px;
			}
			.mobileSearch .b3.reveal-isOpen{
				background-position: -189px -209px;
			}
			.b1, .b3{
				float:right;
				width: 64px;
				height: 64px;
				text-indent: -$hideDistance;
				overflow: hidden;
				background: transparent;
				@include lsp-sprite-background();
				filter: none;
				position: absolute;
				margin: 0;
				padding: 0;
				top:0px;
				right:0px;
				border: 0;
			
				@include box-shadow-multiple(none);
				@include box-sizing();
				@include border-radius(0);
			
				&:after, &:before{
					display: none;
				}
				strong, span{
					display: none;
				}
			}
			.cart .count{
				bottom: 9px;
				right: 6px;
				top: auto;
				display: block;
				line-height: 20px;
				height: 21px;
				font-size: 13px;
				padding: 0px 5px;
				text-indent: 0;
				color: white;
				@include box-shadow-multiple(none);
				background-image: none;
				background-color: transparent;
				text-shadow: none;
				background-color: black;
			}
		}
	}

	@media (max-width: 350px){
		.well, .image-logoCircle{
			width: 64px;
			background-position: -127px -103px;
		}
	}
	
	&.small{
		
		height: 135px;

		@media (max-width: 767px){
			height: 65px;
		}

		.logo{
			//height: 75px;
			//width: 180px;
			height: 110px;
			width: 120px;
			margin-top: 12px;
			margin-bottom: 8px;
			background-position: -334px -738px;
			//background-position: -240px -885px;

			@media (max-width: 767px){
				background-position: -190px -166px;
				height: 45px;
				width: 140px;
			}
		}
		.established, .tagline{
			margin-top: 59px;
			@media (max-width: 767px){
				margin-top: 0;
				position: absolute;
				right: 10px;
				top: 50%;
				margin-top: -12px;
			}
		}


		@media (max-width: 767px){
			.tagline{
				display: none;
			}
			.tagline.visible-phone{
				display: block;
			}
			.well{
				width: 100%;
			}
		}
	}
}
